{% macro badge(status, label=None) -%}
{% set colors = {
    'Success': 'bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200',
    'Warn': 'bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-200',
    'Warning': 'bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-200',
    'Error': 'bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200'
} %}
{% set cls = colors.get(status, 'bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-200') %}
<span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold {{ cls }}">
    {% if status == 'Success' %}
    <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
    {% elif status in ['Warn','Warning'] %}
    <span class="h-2 w-2 rounded-full bg-amber-500"></span>
    {% elif status == 'Error' %}
    <span class="h-2 w-2 rounded-full bg-rose-500"></span>
    {% else %}
    <span class="h-2 w-2 rounded-full bg-slate-400"></span>
    {% endif %}
    {{ label or status }}
</span>
{%- endmacro %}
